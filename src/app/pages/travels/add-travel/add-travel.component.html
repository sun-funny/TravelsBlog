<div class="content-wrapper">
<div class="p-fluid p-grid p-justify-center">
  <div class="p-col-12 p-md-8">
    <p-card [header]="isEditMode ? 'Редактировать путешествие' : 'Добавить новое путешествие'">
      <form [formGroup]="travelForm" (ngSubmit)="onSubmit()">
        <div class="p-field p-grid">
          <label for="country" class="p-col-12 p-md-3">Страна</label>
          <div class="p-col-12 p-md-9">
            <input id="country" type="text" pInputText formControlName="country" />
            <small *ngIf="travelForm.get('country')?.invalid && submitted" class="p-error">
              Страна обязательна для заполнения
            </small>
          </div>
        </div>

        <div class="p-field p-grid">
          <label for="city" class="p-col-12 p-md-3">Город</label>
          <div class="p-col-12 p-md-9">
            <input id="city" type="text" pInputText formControlName="city" />
            <small *ngIf="travelForm.get('city')?.invalid && submitted" class="p-error">
              Город обязателен для заполнения
            </small>
          </div>
        </div>

        <div class="p-field p-grid">
          <label for="short_description" class="p-col-12 p-md-3">Краткое описание</label>
          <div class="p-col-12 p-md-9">
            <textarea id="short_description" rows="3" pInputTextarea formControlName="short_description"></textarea>
            <small *ngIf="travelForm.get('short_description')?.invalid && submitted" class="p-error">
              Краткое описание обязательно для заполнения
            </small>
          </div>
        </div>

        <div class="p-field p-grid">
          <label for="description" class="p-col-12 p-md-3">Полное описание</label>
          <div class="p-col-12 p-md-9">
            <textarea id="description" rows="5" pInputTextarea formControlName="description"></textarea>
            <small *ngIf="travelForm.get('description')?.invalid && submitted" class="p-error">
              Описание обязательно для заполнения
            </small>
          </div>
        </div>

        <div class="p-field p-grid">
          <label for="flag" class="p-col-12 p-md-3">Флаг (URL)</label>
          <div class="p-col-12 p-md-9">
            <input id="flag" type="text" pInputText formControlName="flag" />
            <small *ngIf="travelForm.get('flag')?.invalid && submitted" class="p-error">
              Ссылка на флаг обязательна
            </small>
          </div>
        </div>

        <div class="p-field p-grid">
          <label for="img" class="p-col-12 p-md-3">Изображение</label>
          <div class="p-col-12 p-md-9">
            <p-fileUpload 
              name="image" 
              [multiple]="false" 
              accept="image/*" 
              [maxFileSize]="10000000"
              (onSelect)="onUpload($event)"
              [customUpload]="true"
              chooseLabel="Выбрать изображение"
              uploadLabel="Загрузить"
              cancelLabel="Отмена">
            </p-fileUpload>
            <small *ngIf="travelForm.get('img')?.invalid && submitted" class="p-error">
              Изображение обязательно
            </small>
            <input type="hidden" formControlName="img" />
          </div>
        </div>

        <div class="p-field p-grid">
          <label for="year" class="p-col-12 p-md-3">Год посещения</label>
          <div class="p-col-12 p-md-9">
            <input id="year" type="number" pInputText formControlName="year" />
            <small *ngIf="travelForm.get('year')?.invalid && submitted" class="p-error">
              Год должен быть между 2000 и текущим годом
            </small>
          </div>
        </div>

        <div class="p-field p-grid">
          <label for="featured" class="p-col-12 p-md-3">Рекомендуемое</label>
          <div class="p-col-12 p-md-9">
            <p-inputSwitch id="featured" formControlName="featured"></p-inputSwitch>
          </div>
        </div>

        <div class="button-group">
          <button *ngIf="isEditMode" pButton type="button" label="Добавить контент" 
              class="p-button-info" (click)="openAddPointForm()"></button>
          <button *ngIf="isEditMode" pButton type="button" label="Удалить" 
              class="p-button-danger" (click)="onDelete()"></button>
          <button pButton type="button" label="Отмена" 
              class="p-button-secondary" (click)="router.navigate(['/travels'])"></button>
          <button pButton type="submit" 
              [label]="isEditMode ? 'Обновить' : 'Сохранить'" 
              class="p-button-success"></button>
        </div>
      </form>
    </p-card>
  </div>
</div>
</div>