<div class="add-travel-container main-content">
  <div class="add-travel-main">
    <div class="add-travel-content">
      <div class="form-wrapper">
        <div class="form-card">
          <h2 class="form-title">
            {{ isEditMode ? 'Редактировать путешествие' : 'Добавить новое путешествие' }}
          </h2>
          
          <form [formGroup]="travelForm" (ngSubmit)="onSubmit()" class="travel-form">
            <!-- Страна -->
            <div class="form-field">
              <label for="country">Страна *</label>
              <input 
                id="country" 
                type="text" 
                pInputText 
                formControlName="country"
                placeholder="Введите название страны"
                [class.invalid]="travelForm.get('country')?.invalid && submitted"
              />
              <div class="error-message" *ngIf="travelForm.get('country')?.invalid && submitted">
                Страна обязательна для заполнения
              </div>
            </div>

            <!-- Город -->
            <div class="form-field">
              <label for="city">Город *</label>
              <input 
                id="city" 
                type="text" 
                pInputText 
                formControlName="city"
                placeholder="Введите название города"
                [class.invalid]="travelForm.get('city')?.invalid && submitted"
              />
              <div class="error-message" *ngIf="travelForm.get('city')?.invalid && submitted">
                Город обязателен для заполнения
              </div>
            </div>

            <!-- Краткое описание -->
            <div class="form-field">
              <label for="short_description">Краткое описание *</label>
              <textarea 
                id="short_description" 
                rows="3" 
                pInputTextarea 
                formControlName="short_description"
                placeholder="Краткое описание путешествия"
                [class.invalid]="travelForm.get('short_description')?.invalid && submitted"
              ></textarea>
              <div class="error-message" *ngIf="travelForm.get('short_description')?.invalid && submitted">
                Краткое описание обязательно для заполнения
              </div>
            </div>

            <!-- Полное описание -->
            <div class="form-field">
              <label for="description">Полное описание *</label>
              <textarea 
                id="description" 
                rows="5" 
                pInputTextarea 
                formControlName="description"
                placeholder="Подробное описание путешествия"
                [class.invalid]="travelForm.get('description')?.invalid && submitted"
              ></textarea>
              <div class="error-message" *ngIf="travelForm.get('description')?.invalid && submitted">
                Описание обязательно для заполнения
              </div>
            </div>

            <!-- Изображение -->
            <div class="form-field">
              <label for="img">Изображение *</label>
              <div class="file-upload-wrapper">
                <p-fileUpload 
                  #imageUpload 
                  name="image" 
                  [multiple]="false" 
                  accept="image/*" 
                  [maxFileSize]="10000000"
                  (onSelect)="onImageUpload($event)"
                  [showUploadButton]="false"
                  [showCancelButton]="false"
                  chooseLabel="Выбрать изображение"
                  [style]="{width: '100%'}"
                ></p-fileUpload>
                <div class="error-message" *ngIf="travelForm.get('img')?.invalid && submitted">
                  Изображение обязательно
                </div>
              </div>
            </div>

            <!-- Год посещения -->
            <div class="form-field">
              <label for="year">Год посещения *</label>
              <input 
                id="year" 
                type="number" 
                pInputText 
                formControlName="year"
                placeholder="Год путешествия"
                [class.invalid]="travelForm.get('year')?.invalid && submitted"
              />
              <div class="error-message" *ngIf="travelForm.get('year')?.invalid && submitted">
                Год должен быть между 2000 и текущим годом
              </div>
            </div>

            <!-- Рекомендуемое -->
            <div class="form-field checkbox-field">
              <label for="featured" class="checkbox-label">
                <p-inputSwitch 
                  id="featured" 
                  formControlName="featured"
                ></p-inputSwitch>
                <span>Рекомендую</span>
              </label>
            </div>

            <!-- Кнопки -->
            <div class="form-actions">
              <button 
                *ngIf="isEditMode" 
                type="button" 
                class="btn btn-delete"
                (click)="onDelete()"
              >
                <i class="pi pi-trash"></i>
                <span>Удалить</span>
              </button>
              
              <button 
                type="button" 
                class="btn btn-cancel"
                (click)="router.navigate(['/travels'])"
              >
                <i class="pi pi-times"></i>
                <span>Отмена</span>
              </button>
              
              <button 
                type="submit" 
                class="btn btn-save"
              >
                <i class="pi" [ngClass]="isEditMode ? 'pi-sync' : 'pi-save'"></i>
                <span>{{ isEditMode ? 'Обновить' : 'Сохранить' }}</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>